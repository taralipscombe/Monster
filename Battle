import java.util.ArrayList;

public class Battle {
	
	public static Player player;
	public static ArrayList<Monster> playersTeam;
	public static ArrayList<Monster> enemyTeam;
	
	
	public Battle(Player thePlayer, ArrayList<Monster> enemy) {
		player = thePlayer;
		enemyTeam = enemy;
		playersTeam = player.getTeam();
	}
	
	public static void fight() {
		int numPlayerMonster = 0;
		int numEnemyMonster = 0;
		while  (numPlayerMonster < playersTeam.size() && numEnemyMonster < enemyTeam.size()) {
			Monster playerMonster = playersTeam.get(numPlayerMonster);
			Monster enemyMonster = enemyTeam.get(numEnemyMonster);
			while (playerMonster.currentHealth > 0 && enemyMonster.currentHealth > 0 ) {
				playerMonster.attack(enemyMonster);
				if (enemyMonster.getCurrentHealth() > 0) {
					enemyMonster.attack(playerMonster);
				} 
			}
			if  (playerMonster.currentHealth <= 0) {
				// reduce playermonster lives
				System.out.println("Owwwww!");
				System.out.println("Oh no! " + playerMonster.getName() + " has just died!");
				numPlayerMonster += 1;
			} 
			if (enemyMonster.currentHealth <= 0) {
				// reduce enemymonster lives nvm cause never used again
				System.out.println("Wapow!");
				System.out.println("Yay! " + playerMonster.getName() + " has just killed the enemy monster " + enemyMonster.getName() + "!");
				numEnemyMonster += 1;
			}
		}
		if (numPlayerMonster >= playersTeam.size() ) {
			awardLoss();
		} else {
			//enemy team lost
			awardWin();
		}
		
		
		
		
	}
	
	public static void awardWin() {
		System.out.println("Congratulations on Winning the Battle!");
		System.out.println("You have been awarded " );
		// could just be awarded the average power in enemy team - more enemy power = more reward
		
	}
	
	public static void awardLoss() {
		System.out.println("Oh no! Your team was defeated and killed in Battle!");
		
	}

}
